{"createdAt":"2024-12-25T11:10:39.084Z","updatedAt":"2024-12-25T11:53:01.000Z","id":"zGCNDssLY4apMr62","name":"Expenses_to_FinanceOS","active":false,"nodes":[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-1040,20],"id":"475b3ecf-db19-4f26-a78e-e3a585d0231d","name":"When clicking ‘Test workflow’"},{"parameters":{"operation":"getAll","limit":10,"simple":false,"filters":{"labelIds":["Label_7742782708766668509"],"readStatus":"unread","sender":" alerts@axisbank.com"},"options":{}},"type":"n8n-nodes-base.gmail","typeVersion":2.1,"position":[-720,-200],"id":"3a701403-239d-47eb-92fd-d83496f408fa","name":"Gmail","webhookId":"6c069447-5e34-4afe-b5ad-7f4b02166a5b","credentials":{"gmailOAuth2":{"id":"VvFAtNA9xn95wloi","name":"My GMail"}}},{"parameters":{"mode":"runOnceForEachItem","jsCode":"// Load the HTML data\nconst html = $json[\"data\"]; // Replace \"data\" with your actual JSON field name\n\n// Regular expressions to match the desired values\nconst dateRegex = /Date &amp; Time:<\\/p>\\s*<p>(.*?)<\\/p>/;\nconst amountDebitedRegex = /Amount Debited:<\\/p>\\s*<p>(.*?)<\\/p>/;\nconst transactionInfoRegex = /Transaction Info:<\\/p>\\s*<p>(.*?)<\\/p>/;\n\n// Find matches for each field\nconst dateMatch = html.match(dateRegex);\nconst amountDebitedMatch = html.match(amountDebitedRegex);\nconst transactionInfoMatch = html.match(transactionInfoRegex);\n\n// Prepare the output object\nconst output = {\n  date: dateMatch ? dateMatch[1] : null,\n  amountDebited: amountDebitedMatch ? amountDebitedMatch[1] : null,\n  transactionInfo: transactionInfoMatch ? transactionInfoMatch[1] : null,\n};\n\n// Return the output as an array of a single object\nreturn { json: output };"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-140,-200],"id":"885f0da4-397e-4487-adf8-927ade2d4247","name":"Extract Transaction Info"},{"parameters":{"assignments":{"assignments":[{"id":"af57e318-075d-4a4e-8ebd-8151a12313fe","name":"data","value":"={{ $json.textAsHtml }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-420,-200],"id":"5b2b963e-a483-4e41-bfd7-a5348dd5d04b","name":"Extract HTML Data"}],"connections":{"When clicking ‘Test workflow’":{"main":[[{"node":"Gmail","type":"main","index":0}]]},"Gmail":{"main":[[{"node":"Extract HTML Data","type":"main","index":0}]]},"Extract HTML Data":{"main":[[{"node":"Extract Transaction Info","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"d4adb6e1-87e7-41d1-b919-79c6c6b93770","triggerCount":0,"tags":[]}